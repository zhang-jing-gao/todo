"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const z_index_manager_1 = require("./z-index-manager");
const ctx = '@@ziContext';
const zindexable = {
    mounted(el, bindings) {
        const { value = {} } = bindings;
        const { zIndex, enabled } = value;
        z_index_manager_1.default.ensureZIndex(el, zIndex);
        el[ctx] = {
            enabled
        };
    },
    updated(el, bindings) {
        const { value = {} } = bindings;
        const { zIndex, enabled } = value;
        const cachedEnabled = el[ctx].enabled;
        if (enabled && !cachedEnabled) {
            z_index_manager_1.default.ensureZIndex(el, zIndex);
        }
        el[ctx].enabled = enabled;
    },
    unmounted(el) {
        z_index_manager_1.default.unregister(el);
    }
};
exports.default = zindexable;
